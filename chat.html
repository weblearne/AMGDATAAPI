<!DOCTYPE html> <!-- html_doctype -->
<html lang="en"> <!-- html_root -->
<head> <!-- head_section -->
    <meta charset="UTF-8"> <!-- meta_charset -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- meta_viewport -->
    <title>MNG DATA API - Sales Charts</title> <!-- page_title -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <!-- font_awesome_css -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <!-- sweetalert_script -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script> <!-- chartjs_script -->
    <style> /* internal_styles */
        :root { /* css_variables */
            --primary: #1e3a8a; /* primary_color */
            --secondary: #2563eb; /* secondary_color */
            --accent: #3b82f6; /* accent_color */
            --danger: #ef4444; /* danger_color */
            --danger-light: #f87171; /* danger_light_color */
            --background: #f8fafc; /* background_color */
            --card-bg: #ffffff; /* card_background_color */
            --text: #374151; /* text_color */
            --text-light: #6b7280; /* text_light_color */
            --border: #e5e7eb; /* border_color */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; } /* global_reset */
        body { /* body_styles */
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--background);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header { /* header_styles */
            background: var(--card-bg);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            padding: 0 20px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .logo-container { /* logo_container_styles */
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-text { /* logo_text_styles */
            font-size: 20px;
            font-weight: 600;
            color: var(--primary);
            text-decoration: none;
            font-family: sans-serif;
        }

        .header-buttons { /* header_buttons_styles */
            display: flex;
            gap: 10px;
        }

        .header-btn { /* header_button_styles */
            background: var(--primary);
            color: #ffffff;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .header-btn:hover { /* header_button_hover_styles */
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .main-content { /* main_content_styles */
            margin-top: 60px;
            padding: 30px;
            flex: 1;
        }

        .summary-stats { /* summary_stats_styles */
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .grid-card { /* grid_card_styles */
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
            color: #ffffff;
        }

        .grid-card:hover { transform: translateY(-5px); }
        .grid-card.total-sales { background: var(--primary); } /* total_sales_card_styles */
        .grid-card.total-orders { background: var(--secondary); } /* total_orders_card_styles */
        .grid-card.avg-order { background: var(--accent); } /* avg_order_card_styles */
        .grid-card.top-network { background: var(--danger); } /* top_network_card_styles */
        .grid-card i { font-size: 24px; color: #ffffff; margin-bottom: 10px; }
        .grid-card h3 { font-size: 14px; font-weight: 500; color: #ffffff; margin-bottom: 8px; }
        .grid-card .value { font-size: 24px; font-weight: 600; color: #ffffff; }

        .filter-section { /* filter_section_styles */
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-section label { font-size: 14px; font-weight: 500; color: var(--primary); margin-right: 10px; }
        .filter-section input, .filter-section select { padding: 8px; border: 1px solid var(--border); border-radius: 6px; font-size: 14px; color: var(--text); background: var(--background); }
        .filter-section button { background: var(--secondary); color: #ffffff; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500; transition: all 0.3s ease; }
        .filter-section button:hover { background: var(--accent); transform: translateY(-2px); }

        .chart-section { /* chart_section_styles */
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .chart-card { /* chart_card_styles */
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .chart-card h2 { font-size: 18px; font-weight: 600; color: var(--primary); margin-bottom: 15px; }
        .chart-container { position: relative; max-width: 100%; height: 300px; }

        footer { /* footer_styles */
            background: var(--primary);
            color: #ffffff;
            text-align: center;
            padding: 15px 20px;
            font-size: 14px;
            margin-top: auto;
        }

        @media (max-width: 1024px) { /* media_query_1024 */
            .summary-stats { grid-template-columns: repeat(2, 1fr); }
            .chart-section { grid-template-columns: 1fr; }
        }

        @media (max-width: 768px) { /* media_query_768 */
            .main-content { padding: 20px 15px; }
            .summary-stats { grid-template-columns: 1fr; }
            .filter-section { flex-direction: column; align-items: flex-start; }
            .chart-card, .grid-card { padding: 15px; }
        }

        @media (max-width: 480px) { /* media_query_480 */
            .header { padding: 0 15px; }
            .logo-text { font-size: 16px; }
            .filter-section label { font-size: 12px; }
            .filter-section input, .filter-section select, .filter-section button { font-size: 12px; padding: 6px; width: 100%; }
            .grid-card .value { font-size: 20px; }
            .chart-card h2 { font-size: 16px; }
            .chart-container { height: 250px; }
            footer { font-size: 12px; padding: 10px 15px; }
        }
    </style>
</head>
<body> <!-- body_element -->
    <div class="header" id="header_container"> <!-- header_container -->
        <div class="logo-container" id="logo_container"> <!-- logo_container -->
            <img src="LOGO.JPG" alt="mng data logo" style="width: 40px; height: 40px; border-radius: 50px;" id="logo_image"> <!-- logo_image -->
            <div class="logo-text"><a href="admin.html" class="logo-text">MNG DATA API</a></div>
        </div>
        <div class="header-buttons" id="header_buttons_container"> <!-- header_buttons_container -->
            <button class="header-btn" id="back_button" name="back_button" onclick="goBack()"><i class="fas fa-arrow-left"></i> Back</button> <!-- back_button -->
            <button class="header-btn" id="logout_button" name="logout_button" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button> <!-- logout_button -->
        </div>
    </div>

    <main class="main-content" id="main_content"> <!-- main_content -->
        <div class="summary-stats" id="summary_stats_container"> <!-- summary_stats_container -->
            <div class="grid-card total-sales" id="total_sales_card"> <!-- total_sales_card -->
                <i class="fas fa-money-bill" id="total_sales_icon"></i> <!-- total_sales_icon -->
                <h3 id="total_sales_label">Total Sales</h3> <!-- total_sales_label -->
                <div class="value" id="total_sales_value">₦5,230,450</div> <!-- total_sales_value -->
            </div>
            <div class="grid-card total-orders" id="total_orders_card"> <!-- total_orders_card -->
                <i class="fas fa-shopping-cart" id="total_orders_icon"></i> <!-- total_orders_icon -->
                <h3 id="total_orders_label">Total Orders</h3> <!-- total_orders_label -->
                <div class="value" id="total_orders_value">2,500</div> <!-- total_orders_value -->
            </div>
            <div class="grid-card avg-order" id="avg_order_card"> <!-- avg_order_card -->
                <i class="fas fa-calculator" id="avg_order_icon"></i> <!-- avg_order_icon -->
                <h3 id="avg_order_label">Average Order</h3> <!-- avg_order_label -->
                <div class="value" id="avg_order_value">₦2,092</div> <!-- avg_order_value -->
            </div>
            <div class="grid-card top-network" id="top_network_card"> <!-- top_network_card -->
                <i class="fas fa-network-wired" id="top_network_icon"></i> <!-- top_network_icon -->
                <h3 id="top_network_label">Top Network</h3> <!-- top_network_label -->
                <div class="value" id="top_network_value">MTN</div> <!-- top_network_value -->
            </div>
        </div>

        <form id="filter_form" method="POST" action="process_filters.php"> <!-- filter_form -->
            <div class="filter-section" id="filter_section"> <!-- filter_section -->
                <div id="start_date_container"> <!-- start_date_container -->
                    <label for="startDate" id="start_date_label">Start Date:</label> <!-- start_date_label -->
                    <input type="date" id="startDate" name="start_date" value="2025-05-13"> <!-- start_date_input -->
                </div>
                <div id="end_date_container"> <!-- end_date_container -->
                    <label for="endDate" id="end_date_label">End Date:</label> <!-- end_date_label -->
                    <input type="date" id="endDate" name="end_date" value="2025-06-12"> <!-- end_date_input -->
                </div>
                <div id="network_container"> <!-- network_container -->
                    <label for="network-select" id="network_label">Network:</label> <!-- network_label -->
                    <select id="network-select" name="network"> <!-- network_select -->
                        <option value="all">All Networks</option> <!-- network_option_all -->
                        <option value="MTN">MTN</option> <!-- network_option_mtn -->
                        <option value="Glo">Glo</option> <!-- network_option_glo -->
                        <option value="Airtel">Airtel</option> <!-- network_option_airtel -->
                        <option value="9mobile">9mobile</option> <!-- network_option_9mobile -->
                    </select>
                </div>
                <button id="apply_filters_button" name="apply_filters" type="submit" onclick="applyFilters()">Apply Filters</button> <!-- apply_filters_button -->
            </div>
        </form>

        <div class="chart-section" id="chart_section"> <!-- chart_section -->
            <div class="chart-card" id="daily_sales_chart_card"> <!-- daily_sales_chart_card -->
                <h2 id="daily_sales_chart_title">Daily Sales (Last 30 Days)</h2> <!-- daily_sales_chart_title -->
                <div class="chart-container" id="daily_sales_chart_container"> <!-- daily_sales_chart_container -->
                    <canvas id="salesChart"></canvas> <!-- daily_sales_chart -->
                </div>
            </div>
            <div class="chart-card" id="monthly_sales_chart_card"> <!-- monthly_sales_chart_card -->
                <h2 id="monthly_sales_chart_title">Monthly Sales (2024)</h2> <!-- monthly_sales_chart_title -->
                <div class="chart-container" id="monthly_sales_chart_container"> <!-- monthly_sales_chart_container -->
                    <canvas id="monthlyChart"></canvas> <!-- monthly_sales_chart -->
                </div>
            </div>
            <div class="chart-card" id="network_sales_chart_card"> <!-- network_sales_chart_card -->
                <h2 id="network_sales_chart_title">Sales by Network</h2> <!-- network_sales_chart_title -->
                <div class="chart-container" id="network_sales_chart_container"> <!-- network_sales_chart_container -->
                    <canvas id="networkChart"></canvas> <!-- network_sales_chart -->
                </div>
            </div>
        </div>
    </main>

    <footer id="footer_element"> <!-- footer_element -->
        <div id="footer_text">© 2025 MNG DATA API. All rights reserved.</div> <!-- footer_text -->
    </footer>

    <script> /* main_script */
        // sales_data
        const salesData = {
            daily: Array.from({ length: 30 }, (_, i) => ({ /* daily_sales_data */
                date: new Date(2025, 5, 12 - i).toLocaleDateString('en-US', { day: '2-digit', month: 'short' }),
                amount: Math.floor(Math.random() * 50000 + 100000),
                network: ['MTN', 'Glo', 'Airtel', '9mobile'][Math.floor(Math.random() * 4)]
            })).reverse(),
            monthly: [ /* monthly_sales_data */
                { month: 'Jan', amount: 1200000 },
                { month: 'Feb', amount: 1100000 },
                { month: 'Mar', amount: 1300000 },
                { month: 'Apr', amount: 1250000 },
                { month: 'May', amount: 1400000 },
                { month: 'Jun', amount: 1350000 },
                { month: 'Jul', amount: 1150000 },
                { month: 'Aug', amount: 1250000 },
                { month: 'Sep', amount: 1200000 },
                { month: 'Oct', amount: 1300000 },
                { month: 'Nov', amount: 1100000 },
                { month: 'Dec', amount: 1400000 }
            ],
            network: { /* network_sales_data */
                MTN: 2500000,
                Glo: 1250000,
                Airtel: 900000,
                '9mobile': 450000
            }
        };

        let charts = {}; /* charts_object */

        function formatCurrency(amount) { /* format_currency_function */
            return new Intl.NumberFormat('en-NG', {
                style: 'currency',
                currency: 'NGN'
            }).format(amount);
        }

        function createSalesChart(data) { /* create_sales_chart_function */
            if (charts.salesChart) charts.salesChart.destroy();
            const ctx = document.getElementById('salesChart').getContext('2d');
            charts.salesChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.map(item => item.date),
                    datasets: [{
                        label: 'Daily Sales',
                        data: data.map(item => item.amount),
                        borderColor: '#2563eb',
                        backgroundColor: 'rgba(37, 99, 235, 0.2)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Sales: ${formatCurrency(context.raw)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return formatCurrency(value);
                                }
                            }
                        }
                    }
                }
            });
        }

        function createMonthlyChart(data) { /* create_monthly_chart_function */
            if (charts.monthlyChart) charts.monthlyChart.destroy();
            const ctx = document.getElementById('monthlyChart').getContext('2d');
            charts.monthlyChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.map(item => item.month),
                    datasets: [{
                        label: 'Monthly Sales',
                        data: data.map(item => item.amount),
                        backgroundColor: '#3b82f6',
                        borderColor: '#1e3a8a',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Sales: ${formatCurrency(context.raw)}`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return formatCurrency(value);
                                }
                            }
                        }
                    }
                }
            });
        }

        function createNetworkChart(data) { /* create_network_chart_function */
            if (charts.networkChart) charts.networkChart.destroy();
            const ctx = document.getElementById('networkChart').getContext('2d');
            charts.networkChart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: Object.keys(data),
                    datasets: [{
                        label: 'Sales by Network',
                        data: Object.values(data),
                        backgroundColor: [
                            '#1e3a8a',
                            '#2563eb',
                            '#3b82f6',
                            '#ef4444'
                        ],
                        borderColor: '#ffffff',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${formatCurrency(context.raw)}`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function applyFilters() { /* apply_filters_function */
            const startDate = new Date(document.getElementById('startDate').value);
            const endDate = new Date(document.getElementById('endDate').value);
            const network = document.getElementById('network-select').value;

            if (startDate > endDate) {
                showAlert('End date must be after start date', 'error');
                return;
            }

            const filteredDaily = salesData.daily.filter(item => {
                const itemDate = new Date(item.date);
                const matchesDate = itemDate >= startDate && itemDate <= endDate;
                const matchesNetwork = network === 'all' || item.network === network;
                return matchesDate && matchesNetwork;
            });

            const filteredNetwork = {};
            Object.keys(salesData.network).forEach(key => {
                if (network === 'all' || key === network) {
                    filteredNetwork[key] = salesData.network[key];
                }
            });

            createSalesChart(filteredDaily);
            createMonthlyChart(salesData.monthly);
            createNetworkChart(filteredNetwork);

            const totalSales = filteredDaily.reduce((sum, item) => sum + item.amount, 0);
            const totalOrders = filteredDaily.length;
            const avgOrder = totalOrders ? Math.round(totalSales / totalOrders) : 0;
            const topNetwork = Object.keys(filteredNetwork)[0] || 'N/A';

            document.querySelector('.grid-card.total-sales .value').textContent = formatCurrency(totalSales);
            document.querySelector('.grid-card.total-orders .value').textContent = totalOrders;
            document.querySelector('.grid-card.avg-order .value').textContent = formatCurrency(avgOrder);
            document.querySelector('.grid-card.top-network .value').textContent = topNetwork;
        }

        function showAlert(message, type = 'success') { /* show_alert_function */
            Swal.fire({
                title: type === 'success' ? 'Success!' : 'Error!',
                text: message,
                icon: type,
                confirmButtonColor: '#2563eb'
            });
        }

        function goBack() { /* go_back_function */
            window.history.back();
        }

        function logout() { /* logout_function */
            Swal.fire({
                title: 'Are you sure?',
                text: 'You will be logged out of your account.',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#2563eb',
                cancelButtonColor: '#ef4444',
                confirmButtonText: 'Yes, Logout'
            }).then((result) => {
                if (result.isConfirmed) {
                    showAlert('Logging out...', 'success');
                    setTimeout(() => {
                        showAlert('You have been logged out successfully', 'success');
                        window.location.href = 'index.html';
                    }, 1000);
                }
            });
        }

        document.addEventListener('DOMContentLoaded', function() { /* dom_content_loaded */
            applyFilters();
        });
    </script>
</body>
</html>